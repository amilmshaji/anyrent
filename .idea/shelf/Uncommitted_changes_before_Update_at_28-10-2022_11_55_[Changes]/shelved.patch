Index: dashboard/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.contrib import messages\r\nfrom django.contrib.auth.decorators import login_required\r\nfrom django.core.paginator import Paginator\r\nfrom django.shortcuts import render, redirect\r\n\r\nfrom accounts.models import Account\r\nfrom products.models import House_Product, Car_Product\r\n\r\n\r\n\r\n\r\n\r\n\r\n@login_required(login_url='login')\r\ndef dashboard(request):\r\n    # orders = Order.objects.order_by(\r\n    #     '-created_at').filter(user_id=request.user.id, is_ordered=True)\r\n    # order_count = orders.count()\r\n    userprofile=Account.objects.get(id=request.user.id)\r\n    context = {\r\n        # 'orders_count': order_count,\r\n        'userprofile':userprofile,\r\n    }\r\n    return render(request, 'dashboard/dash-my-profile.html', context)\r\n\r\n\r\ndef editprofile(request):\r\n    # orders = Order.objects.order_by(\r\n    #     '-created_at').filter(user_id=request.user.id, is_ordered=True)\r\n    # order_count = orders.count()\r\n    userprofile=Account.objects.get(id=request.user.id)\r\n\r\n\r\n\r\n    if request.method == 'POST':\r\n        fname = request.POST.get(\"fname\")\r\n        lname = request.POST.get(\"lname\")\r\n        phone_number = request.POST.get(\"tel\")\r\n\r\n        userprofile.fname=fname\r\n        userprofile.lname=lname\r\n        userprofile.phone_number=phone_number\r\n        userprofile.save()\r\n        return redirect('myprofile')\r\n\r\n    context = {\r\n        # 'orders_count': order_count,\r\n        'userprofile':userprofile,\r\n    }\r\n    return render(request, 'dashboard/dash-edit-profile.html', context)\r\n\r\n\r\n@login_required(login_url='login')\r\ndef changePassword(request):\r\n    if request.method == 'POST':\r\n        current_password=request.POST['current_password']\r\n        new_password=request.POST['new_password']\r\n        confirm_password=request.POST['confirm_password']\r\n\r\n        user=Account.objects.get(email__exact=request.user.email)\r\n\r\n        if new_password == confirm_password:\r\n            success=user.check_password(current_password)\r\n            if success:\r\n                user.set_password(new_password)\r\n                user.save()\r\n                # auth.logout(request)\r\n                messages.success(request, 'Password change Successfully')\r\n                return redirect('changePassword')\r\n            else:\r\n                messages.success(request, 'Please enter valid current password')\r\n                return redirect('changePassword')\r\n        else:\r\n            messages.error(request, 'Password does not match')\r\n            return redirect('changePassword')\r\n    return render(request, 'dashboard/change_password.html')\r\n\r\n\r\n\r\n\r\ndef myproducts(request, category_slug=None):\r\n\r\n    # if request.user.is_authenticated:\r\n    c_products = Car_Product.objects.all().filter(is_available=True,user=request.user.id)\r\n    h_products = House_Product.objects.all().filter(is_available=True,user=request.user.id)\r\n\r\n\r\n\r\n    context = {\r\n        'h_products' : h_products,\r\n        'c_products': c_products,\r\n\r\n\r\n    }\r\n    return render(request, 'dashboard/myproducts.html', context)\r\n\r\ndef managemypd(request):\r\n    return render(request, 'dashboard/dash-edit-myproducts.html')\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/dashboard/views.py b/dashboard/views.py
--- a/dashboard/views.py	(revision eb8e381e375a4f34b6de886161e0809dfeccc704)
+++ b/dashboard/views.py	(date 1666893227511)
@@ -95,5 +95,11 @@
     return render(request, 'dashboard/myproducts.html', context)
 
 def managemypd(request):
-    return render(request, 'dashboard/dash-edit-myproducts.html')
+    manage=House_Product.objects.get(user=request.user.id)
+    context = {
+        # 'orders_count': order_count,
+        'manage': manage,
+    }
+
+    return render(request, 'dashboard/dash-edit-myproducts.html', context)
 
Index: templates/dashboard/dash-edit-myproducts.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends 'base.html' %}\r\n{% load static %}\r\n{% block content %}\r\n\r\n\r\n\r\n        <!--====== App Content ======-->\r\n        <div class=\"app-content\">\r\n\r\n            <!--====== Section 1 ======-->\r\n            <div class=\"u-s-p-y-60\">\r\n\r\n                <!--====== Section Content ======-->\r\n                <div class=\"section__content\">\r\n                    <div class=\"container\">\r\n                        <div class=\"breadcrumb\">\r\n                            <div class=\"breadcrumb__wrap\">\r\n                                <ul class=\"breadcrumb__list\">\r\n                                    <li class=\"has-separator\">\r\n\r\n                                        <a href=\"#\">Home</a></li>\r\n                                    <li class=\"is-marked\">\r\n\r\n                                        <a href=\"#\">My Account</a></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--====== End - Section 1 ======-->\r\n\r\n\r\n            <!--====== Section 2 ======-->\r\n            <div class=\"u-s-p-b-60\">\r\n\r\n                <!--====== Section Content ======-->\r\n                <div class=\"section__content\">\r\n                    <div class=\"dash\">\r\n                        <div class=\"container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-lg-3 col-md-12\">\r\n\r\n                                    <!--====== Dashboard Features ======-->\r\n                                    {% include 'dashboard/dash-feature.html' %}\r\n\r\n                                    <!--====== End - Dashboard Features ======-->\r\n                                </div>\r\n                                <div class=\"col-lg-9 col-md-12\">\r\n                                                <script>\r\n                 function validate()\r\n                {\r\n\t\t\t\t\tvar a=document.getElementById(\"type\").value;\r\n\t\t\t\t\t   if(a==\"\")\r\n                {\r\n                    document.getElementById('te').style.display = \"block\";\r\n\r\n                    document.getElementById('te').innerHTML=\"**Please Enter  Type\";\r\n                    return false;\r\n                }\r\n                else{\r\n\t\t\t\t\t\tdocument.getElementById('te').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\tvar b=document.getElementById(\"furnish\").value;\r\n\t\t\t\t\t   if(b==\"\")\r\n                {\r\n                    document.getElementById('fh').style.display = \"block\";\r\n\r\n                    document.getElementById('fh').innerHTML=\"**please Choose\";\r\n                    return false;\r\n                }\r\n                else{\r\n\t\t\t\t\t\tdocument.getElementById('fh').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar c=document.getElementById(\"bedroom\").value;\r\n\t\t\t\t\t   if(c==\"\")\r\n                {\r\n                    document.getElementById('bdm').style.display = \"block\";\r\n\r\n                    document.getElementById('bdm').innerHTML=\"**Please Choose Number of bedrooms\";\r\n                    return false;\r\n                }\r\n                else{\r\n\t\t\t\t\t\tdocument.getElementById('bdm').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\tvar d=document.getElementById(\"bathroom\").value;\r\n\r\n\t\t\t\tif(d==\"\")\r\n                {\r\n                    document.getElementById('btm').style.display = \"block\";\r\n\r\n                    document.getElementById('btm').innerHTML=\"**Please Choose Number of bathrooms\";\r\n                    return false;\r\n                }\r\n                else{\r\n\t\t\t\t\t\tdocument.getElementById('btm').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tvar e = document.getElementById(\"builtup\").value;\r\n\t\t\t\t\tvar expr = /^[0-9]+$/;\r\n\r\n\t\t\t\tif(e==\"\")\r\n                {\r\n                    document.getElementById('bp').style.display = \"block\";\r\n\r\n                    document.getElementById('bp').innerHTML=\"**Please Enter Builtup Area\";\r\n                    return false;\r\n                }\r\n\t\t\t\t\telse if(e!=\"\" && expr.test(e)==false){\r\n\t\t\t\t\t\tdocument.getElementById('bp').style.display = \"block\";\r\n\t\t\t\t\t\tdocument.getElementById('bp').innerHTML = \"**Invalid Input\";\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\tdocument.getElementById('bp').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar f = document.getElementById(\"capacity\").value;\r\n\t\t\t\t\tvar expr = /^[0-9]+$/;\r\n\r\n\t\t\t\tif(f==\"\")\r\n                {\r\n                    document.getElementById('cy').style.display = \"block\";\r\n\r\n                    document.getElementById('cy').innerHTML=\"**Please Enter Capacity Area\";\r\n                    return false;\r\n                }\r\n\t\t\t\t\telse if(f!=\"\" && expr.test(f)==false){\r\n\t\t\t\t\t\tdocument.getElementById('cy').style.display = \"block\";\r\n\t\t\t\t\t\tdocument.getElementById('cy').innerHTML = \"**Invalid Input\";\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\tdocument.getElementById('cy').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar g = document.getElementById(\"images\").value;\r\n\r\n\t\t\t\tif(g==\"\")\r\n                {\r\n                    document.getElementById('img').style.display = \"block\";\r\n\r\n                    document.getElementById('img').innerHTML=\"**Please upload image\";\r\n                    return false;\r\n                }\r\n\t\t\t\telse{\r\n\t\t\t\t\t\tdocument.getElementById('img').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\t\tvar h = document.getElementById(\"rent\").value;\r\n\t\t\t\t\tvar expr = /^[0-9]+$/;\r\n\r\n\t\t\t\tif(h==\"\")\r\n                {\r\n                    document.getElementById('rt').style.display = \"block\";\r\n\r\n                    document.getElementById('rt').innerHTML=\"**Please Enter Rent\";\r\n                    return false;\r\n                }\r\n\t\t\t\t\telse if(h!=\"\" && expr.test(h)==false){\r\n\t\t\t\t\t\tdocument.getElementById('rt').style.display = \"block\";\r\n\t\t\t\t\t\tdocument.getElementById('rt').innerHTML = \"**Invalid Input\";\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\tdocument.getElementById('rt').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar i = document.getElementById(\"ad_title\").value;\r\n\t\t\t\t\tif(i==\"\")\r\n                {\r\n                    document.getElementById('at').style.display = \"block\";\r\n\r\n                    document.getElementById('at').innerHTML=\"**Please Enter Advertisment Title\";\r\n                    return false;\r\n                }\r\n                else{\r\n\t\t\t\t\t\tdocument.getElementById('at').style.display = \"none\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t    var j = document.getElementById(\"add_info\").value;\r\n\t\t\t\t\tif(j==\"\")\r\n                {\r\n                    document.getElementById('ai').style.display = \"block\";\r\n\r\n                    document.getElementById('ai').innerHTML=\"**Please Enter Additional Information\";\r\n                    return false;\r\n                }\r\n                else{\r\n\t\t\t\t\t\tdocument.getElementById('ai').style.display = \"none\";\r\n\t\t\t            return true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t</script>\r\n\r\n            <!--====== Section 2 ======-->\r\n<!--            <div class=\"u-s-p-b-60\">-->\r\n\r\n                <!--====== Section Content ======-->\r\n                <div class=\"section__content\">\r\n                    <div class=\"dash\">\r\n                        <div class=\"container\">\r\n                            <div class=\"row \">\r\n                                <div class=\"col-lg-9 col-md-12\">\r\n                                    <div class=\"dash__box dash__box--shadow dash__box--radius dash__box--bg-white\">\r\n                                        <div class=\"dash__pad-2\">\r\n                                            <h1 class=\"dash__h1 u-s-m-b-14\">Enter the details</h1>\r\n\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-lg-12\">\r\n                                                    <form class=\"dash-edit-p\" method=\"post\" action=\"{% url 'add_house' %}\"  enctype=\"multipart/form-data\" onsubmit=\"return validate();\">\r\n                                                        {% csrf_token %}\r\n                                                            <div class=\"gl-inline\">\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                     <label class=\"gl-label\" for=\"type\">Type *</label>\r\n                                                                <select class=\"select-box select-box--primary-style\" name=\"type\" id=\"type\" data-bill=\"\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                    <option selected value=\"\">Choose the Type</option>\r\n                                                    <option value=\"Apartments\">Apartments</option>\r\n                                                    <option value=\"House & Floors\">House & Floors</option>\r\n                                                </select><span id=\"te\" style=\"color: red;\"></span>\r\n\r\n\r\n\r\n                                                            </div>\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                       <label class=\"gl-label\" for=\"furnish\">Furnishing *</label>\r\n                                                                <select class=\"select-box select-box--primary-style\" name=\"furnish\" id=\"furnish\" data-bill=\"\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                    <option selected value=\"\">Choose the Type</option>\r\n                                                    <option value=\"Furnished\">Furnished</option>\r\n                                                    <option value=\"Semi-Furnished\">Semi-Furnished</option>\r\n                                                    <option value=\"Unfurnished\">Unfurnished</option>\r\n                                                </select><span id=\"fh\" style=\"color: red;\"></span>\r\n\r\n\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"gl-inline\">\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"bedroom\">No of Bedrooms *</label>\r\n                                                                <select class=\"select-box select-box--primary-style\" name=\"bedroom\" id=\"bedroom\" data-bill=\"\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                    <option selected value=\"\">Choose the Type</option>\r\n                                                    <option value=\"1\">1</option>\r\n                                                    <option value=\"2\">2</option>\r\n                                                    <option value=\"3\">3</option>\r\n                                                    <option value=\"4\">4</option>\r\n                                                    <option value=\"5\">4+</option>\r\n                                                </select><span id=\"bdm\" style=\"color: red;\"></span>\r\n\r\n                                                            </div>\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"bathroom\">No of Bathrooms *</label>\r\n                                                                                 <select class=\"select-box select-box--primary-style\" name=\"bathroom\" id=\"bathroom\" data-bill=\"\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                    <option selected value=\"\">Choose the Type</option>\r\n                                                    <option value=\"1\">1</option>\r\n                                                    <option value=\"2\">2</option>\r\n                                                    <option value=\"3\">3</option>\r\n                                                    <option value=\"4\">4</option>\r\n                                                    <option value=\"5\">4+</option>\r\n                                                </select><span id=\"btm\" style=\"color: red;\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                         <div class=\"gl-inline\">\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"builtup\">Super Bulidup Area(ft2) *</label>\r\n\r\n                                                                <input class=\"input-text input-text--primary-style\" type=\"text\" id=\"builtup\" name=\"builtup\" placeholder=\"Super Bulidup Area(ft2)\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                            <span id=\"bp\" style=\"color: red;\"></span>\r\n                                                            </div>\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"capacity\">Capacity Area(ft2) *</label>\r\n\r\n                                                                <input class=\"input-text input-text--primary-style\" type=\"text\" name=\"capacity\" id=\"capacity\" placeholder=\"Capacity Area(ft2)\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                            <span id=\"cy\" style=\"color: red;\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"gl-inline\">\r\n\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"images\">Image *</label>\r\n\r\n                                                                <input class=\"input-text input-text--primary-style\" type=\"file\" name=\"images\" id=\"images\" placeholder=\"Image\" onblur=\"return validate()\" onKeyUp=\"return validate()\" accept=\"image/png, image/gif, image/jpeg\" >\r\n\t\t\t\t\t                                            <span id=\"img\" style=\"color:red\"> </span>\r\n\r\n                                                            </div>\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"rent\">Rent/Month *</label>\r\n\r\n                                                                <input class=\"input-text input-text--primary-style\" type=\"text\" id=\"rent\" name=\"rent\" placeholder=\"Rent/Month\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                            <span id=\"rt\" style=\"color: red;\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"gl-inline\">\r\n\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"ad_title\">Ad title *</label>\r\n\r\n                                                                <input class=\"input-text input-text--primary-style\" type=\"text\" name=\"ad_title\" id=\"ad_title\" placeholder=\"Key features of your item\" onblur=\"return validate()\" onKeyUp=\"return validate()\">\r\n                                                            <span id=\"at\" style=\"color: red;\"></span>\r\n                                                            </div>\r\n                                                            <div class=\"u-s-m-b-30\">\r\n\r\n                                                                <label class=\"gl-label\" for=\"add_info\">Additional Information *</label>\r\n\r\n                                                                <input class=\"input-text input-text--primary-style\" type=\"text\" id=\"add_info\" name=\"add_info\" placeholder=\"Include conditon,features and reason for selling\" onblur=\"return validate()\" onKeyUp=\"return validate()\" >\r\n                                                            <span id=\"ai\" style=\"color: red;\"></span>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        <button class=\"btn btn--e-brand-b-2\" type=\"submit\">SAVE</button>\r\n                                                    </form>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!--====== End - Section Content ======-->\r\n            </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!--====== End - Section Content ======-->\r\n            </div>\r\n            <!--====== End - Section 2 ======-->\r\n        </div>\r\n        </div>\r\n{% endblock %}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/templates/dashboard/dash-edit-myproducts.html b/templates/dashboard/dash-edit-myproducts.html
--- a/templates/dashboard/dash-edit-myproducts.html	(revision eb8e381e375a4f34b6de886161e0809dfeccc704)
+++ b/templates/dashboard/dash-edit-myproducts.html	(date 1666893330560)
@@ -225,8 +225,8 @@
                                                             <div class="u-s-m-b-30">
 
                                                                      <label class="gl-label" for="type">Type *</label>
-                                                                <select class="select-box select-box--primary-style" name="type" id="type" data-bill="" onblur="return validate()" onKeyUp="return validate()">
-                                                    <option selected value="">Choose the Type</option>
+                                                                <select class="select-box select-box--primary-style" name="type" id="type"  data-bill="" onblur="return validate()" onKeyUp="return validate()">
+                                                    <option selected value="{{House_Product.type}}">Choose the Type</option>
                                                     <option value="Apartments">Apartments</option>
                                                     <option value="House & Floors">House & Floors</option>
                                                 </select><span id="te" style="color: red;"></span>
@@ -237,7 +237,7 @@
                                                             <div class="u-s-m-b-30">
 
                                                                        <label class="gl-label" for="furnish">Furnishing *</label>
-                                                                <select class="select-box select-box--primary-style" name="furnish" id="furnish" data-bill="" onblur="return validate()" onKeyUp="return validate()">
+                                                                <select class="select-box select-box--primary-style" name="furnish" id="furnish"   data-bill="" onblur="return validate()" onKeyUp="return validate()">
                                                     <option selected value="">Choose the Type</option>
                                                     <option value="Furnished">Furnished</option>
                                                     <option value="Semi-Furnished">Semi-Furnished</option>
